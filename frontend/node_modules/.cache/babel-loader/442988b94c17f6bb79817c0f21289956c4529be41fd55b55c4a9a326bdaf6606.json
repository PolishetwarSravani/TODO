{"ast":null,"code":"import React,{useState,useEffect}from'react';import TodoList from'./components/TodoList';import'./App.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const API_URL='https://your-render-backend-url/api/todos';// Replace with your actual Render backend URL\nconst App=()=>{const[todos,setTodos]=useState([]);const[newTodo,setNewTodo]=useState('');const[deadlineDate,setDeadlineDate]=useState('');const[deadlineTime,setDeadlineTime]=useState('');const fetchTodos=async()=>{const response=await fetch(API_URL);const data=await response.json();setTodos(data);};useEffect(()=>{fetchTodos();},[]);const addTodo=async()=>{if(!newTodo.trim())return;let deadline=null;if(deadlineDate){deadline=deadlineTime?new Date(`${deadlineDate}T${deadlineTime}`):new Date(deadlineDate);}const response=await fetch(API_URL,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({text:newTodo,deadline})});const data=await response.json();setTodos([data,...todos]);setNewTodo('');setDeadlineDate('');setDeadlineTime('');};const toggleComplete=async id=>{const todo=todos.find(t=>t._id===id);if(!todo)return;const response=await fetch(`${API_URL}/${id}`,{method:'PUT',headers:{'Content-Type':'application/json'},body:JSON.stringify({completed:!todo.completed})});const data=await response.json();setTodos(todos.map(t=>t._id===id?data:t));};const deleteTodo=async id=>{await fetch(`${API_URL}/${id}`,{method:'DELETE'});setTodos(todos.filter(t=>t._id!==id));};// Check deadlines and alert if near and not completed\nuseEffect(()=>{const interval=setInterval(()=>{const now=new Date();todos.forEach(todo=>{if(todo.deadline&&!todo.completed){const deadline=new Date(todo.deadline);const diff=deadline-now;if(diff>0&&diff<=60000){// 1 minute before deadline\nalert(`Task \"${todo.text}\" is nearing its deadline!`);}}});},30000);// check every 30 seconds\nreturn()=>clearInterval(interval);},[todos]);return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Todo App\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newTodo,onChange:e=>setNewTodo(e.target.value),placeholder:\"Add a new todo\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:deadlineDate,onChange:e=>setDeadlineDate(e.target.value),style:{marginLeft:'10px'}}),/*#__PURE__*/_jsx(\"input\",{type:\"time\",value:deadlineTime,onChange:e=>setDeadlineTime(e.target.value),style:{marginLeft:'10px'}}),/*#__PURE__*/_jsx(\"button\",{onClick:addTodo,style:{marginLeft:'10px'},children:\"Add\"})]}),/*#__PURE__*/_jsx(TodoList,{todos:todos,toggleComplete:toggleComplete,deleteTodo:deleteTodo})]});};export default App;","map":{"version":3,"names":["React","useState","useEffect","TodoList","jsx","_jsx","jsxs","_jsxs","API_URL","App","todos","setTodos","newTodo","setNewTodo","deadlineDate","setDeadlineDate","deadlineTime","setDeadlineTime","fetchTodos","response","fetch","data","json","addTodo","trim","deadline","Date","method","headers","body","JSON","stringify","text","toggleComplete","id","todo","find","t","_id","completed","map","deleteTodo","filter","interval","setInterval","now","forEach","diff","alert","clearInterval","className","children","type","value","onChange","e","target","placeholder","style","marginLeft","onClick"],"sources":["C:/Users/polis/OneDrive/Desktop/SDE-Intern/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport TodoList from './components/TodoList';\r\nimport './App.css';\r\n\r\nconst API_URL = 'https://your-render-backend-url/api/todos'; // Replace with your actual Render backend URL\r\n\r\nconst App = () => {\r\n  const [todos, setTodos] = useState([]);\r\n  const [newTodo, setNewTodo] = useState('');\r\n  const [deadlineDate, setDeadlineDate] = useState('');\r\n  const [deadlineTime, setDeadlineTime] = useState('');\r\n\r\n  const fetchTodos = async () => {\r\n    const response = await fetch(API_URL);\r\n    const data = await response.json();\r\n    setTodos(data);\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchTodos();\r\n  }, []);\r\n\r\n  const addTodo = async () => {\r\n    if (!newTodo.trim()) return;\r\n    let deadline = null;\r\n    if (deadlineDate) {\r\n      deadline = deadlineTime ? new Date(`${deadlineDate}T${deadlineTime}`) : new Date(deadlineDate);\r\n    }\r\n    const response = await fetch(API_URL, {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify({ text: newTodo, deadline }),\r\n    });\r\n    const data = await response.json();\r\n    setTodos([data, ...todos]);\r\n    setNewTodo('');\r\n    setDeadlineDate('');\r\n    setDeadlineTime('');\r\n  };\r\n\r\n  const toggleComplete = async (id) => {\r\n    const todo = todos.find((t) => t._id === id);\r\n    if (!todo) return;\r\n    const response = await fetch(`${API_URL}/${id}`, {\r\n      method: 'PUT',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify({ completed: !todo.completed }),\r\n    });\r\n    const data = await response.json();\r\n    setTodos(todos.map((t) => (t._id === id ? data : t)));\r\n  };\r\n\r\n  const deleteTodo = async (id) => {\r\n    await fetch(`${API_URL}/${id}`, {\r\n      method: 'DELETE',\r\n    });\r\n    setTodos(todos.filter((t) => t._id !== id));\r\n  };\r\n\r\n  // Check deadlines and alert if near and not completed\r\n  useEffect(() => {\r\n    const interval = setInterval(() => {\r\n      const now = new Date();\r\n      todos.forEach(todo => {\r\n        if (todo.deadline && !todo.completed) {\r\n          const deadline = new Date(todo.deadline);\r\n          const diff = deadline - now;\r\n          if (diff > 0 && diff <= 60000) { // 1 minute before deadline\r\n            alert(`Task \"${todo.text}\" is nearing its deadline!`);\r\n          }\r\n        }\r\n      });\r\n    }, 30000); // check every 30 seconds\r\n    return () => clearInterval(interval);\r\n  }, [todos]);\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <h1>Todo App</h1>\r\n      <div className=\"input-group\">\r\n        <input\r\n          type=\"text\"\r\n          value={newTodo}\r\n          onChange={(e) => setNewTodo(e.target.value)}\r\n          placeholder=\"Add a new todo\"\r\n        />\r\n        <input\r\n          type=\"date\"\r\n          value={deadlineDate}\r\n          onChange={(e) => setDeadlineDate(e.target.value)}\r\n          style={{ marginLeft: '10px' }}\r\n        />\r\n        <input\r\n          type=\"time\"\r\n          value={deadlineTime}\r\n          onChange={(e) => setDeadlineTime(e.target.value)}\r\n          style={{ marginLeft: '10px' }}\r\n        />\r\n        <button onClick={addTodo} style={{ marginLeft: '10px' }}>Add</button>\r\n      </div>\r\n      <TodoList todos={todos} toggleComplete={toggleComplete} deleteTodo={deleteTodo} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}